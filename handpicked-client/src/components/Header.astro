---
import HeaderSearchIsland from "../components/islands/HeaderSearchIsland.jsx";

const nav = [
  { href: "/stores", label: "Stores" },
  { href: "/coupons", label: "Coupons" },
  { href: "/blogs", label: "Blogs" },
];
---

<!-- keyboard skip link -->
<a class="skip-link" href="#content">Skip to content</a>

<header
  id="top"
  role="banner"
  class="sticky top-0 z-50 bg-white/95 backdrop-blur-sm border-b border-gray-100"
>
  <div class="container mx-auto px-4 py-3">
    <div
      class="flex flex-col gap-4 md:flex-row md:items-center md:justify-between"
    >
      <!-- Logo -->
      <a
        href="/"
        aria-label="Saving Harbor home"
        class="flex items-center gap-3 shrink-0"
      >
        <img
          src="/logo.webp"
          alt="Saving Harbor logo"
          width="70"
          height="55"
          class="rounded-sm shadow-sm"
        />
        <span class="font-semibold text-lg tracking-tight text-slate-900"
          >Saving Harbor</span
        >
      </a>

      <!-- Search (centered, full width on mobile) -->
      <div class="w-full md:flex-1 md:px-6">
        <div
          class="relative bg-white rounded-full border border-gray-200 shadow-sm"
        >
          <!-- Left search icon -->
          <div
            class="absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-5 h-5 text-slate-400"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              aria-hidden="true"
            >
              <circle
                cx="11"
                cy="11"
                r="6"
                stroke-linecap="round"
                stroke-linejoin="round"></circle>
              <path
                d="M21 21l-4.35-4.35"
                stroke-linecap="round"
                stroke-linejoin="round"></path>
            </svg>
          </div>

          <!-- island wrapper: padding creates the visual flush look -->
          <div class="pl-10 pr-4 py-2">
            <HeaderSearchIsland client:visible />
          </div>
        </div>
      </div>

      <!-- Nav -->
      <nav aria-label="Main navigation" class="flex justify-center">
        <ul class="flex gap-3 flex-wrap items-center">
          {
            nav.map((n) => (
              <li>
                <a
                  href={n.href}
                  class="px-4 py-2 text-sm font-medium text-slate-700 rounded-full transition focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-brand-primary hover:bg-brand-primary hover:text-white"
                >
                  {n.label}
                </a>
              </li>
            ))
          }
        </ul>
      </nav>
    </div>
  </div>
</header>
<!-- main content anchor used by skip-link -->
<main id="content"></main>
